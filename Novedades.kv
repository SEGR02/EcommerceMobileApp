#: kivy 2.1.0
#: import ScreenManager kivy.uix.screenmanager.ScreenManager
#: import Screen kivy.uix.screenmanager.Screen
#: import FadeTransition kivy.uix.screenmanager.FadeTransition
ScreenManager:
    HomeScreen:
    Login:
    Menu:
    Registro:
    VentanaPop:
    GridProductos:
    Administracion:
    AgregarObj:
    EliminarObj:
    VentanaActualizar:
    Gestor:

<DrawerClickableItem@MDNavigationDrawerItem>
    focus_color: "#e7e4c0"
    text_color: "#4a4939"
    icon_color: "#4a4939"
    ripple_color: "#c5bdd2"
    selected_color: "#0c6c4d"


<DrawerLabelItem@MDNavigationDrawerItem>
    text_color: "#4a4939"
    icon_color: "#4a4939"
    focus_behavior: False
    selected_color: "#4a4939"
    _no_ripple_effect: True    
<Login>:
    MDScreen:
        
    MDFloatLayout:
        id: login
        md_bg_color: 1,1,1,1

    MDIconButton:
        icon: "chevron-up"
        user_font_size: "35sp"
        pos_hint: {"center_y": .95}
        on_release: 
            root.regg()
            root.manager.transition.direction = 'up'
            input_correo.text= ""
            input_contraseña.text= ""

    Image:
        source: "assets/log.png"
        size_hint: .36, .36
        pos_hint: {"center_x": .22, "center_y": .8}
        
    MDLabel:
        text: "Registrate"
        font_size: "18sp"
        font_name: "fonts/Poppins-Regular.ttf"
        pos_hint: {"center_x": .615, "center_y": .949}
        
    MDLabel:
        text: "Novedades Alviarez"
        font_size: "20sp"
        font_name: "fonts/Poppins-Regular.ttf"
        color: 255/255, 162/255, 3/255
        pos_hint: {"center_x": .830, "center_y": .841}

    MDLabel:
        text: "Trabajamos Para Ti"
        font_size: "15sp"
        font_name: "fonts/Poppins-Medium.ttf"
        color: "black"
        pos_hint: {"center_x": .917, "center_y": .810}
    
    MDTextField:
        id:input_correo
        hint_text: "Ingresa Tu Correo Electronico"
        helper_text: ""
        font_name: "fonts/Poppins-Regular.ttf"
        line_color_normal: 255/255, 162/255, 3/255
        hint_text_color_focus: 255/255, 162/255, 3/255
        line_color_focus: "black"
        helper_text_mode: "persistent"
        pos_hint: {"center_x": .5, "center_y": .52}

        size_hint_x: .85
        line_color_focus: 0,0,0,1

    Image:
        source: "assets/usuario.png"
        size_hint: .10, .10
        pos_hint: {"center_x": .90, "center_y": .54}
    
    MDTextField:
        id:input_contraseña
        hint_text: "Ingresa Tu Contraseña"
        helper_text: ""
        font_name: "fonts/Poppins-Regular.ttf"
        line_color_normal: 255/255, 162/255, 3/255
        hint_text_color_focus: 255/255, 162/255, 3/255
        line_color_focus: "black" 
        helper_text_mode: "persistent"
        pos_hint: {"center_x": .5, "center_y": .42}

        size_hint_x: .85
        line_color_focus: 0,0,0,1
        password: True
    Image:
        source: "assets/llave.png"
        size_hint: .10, .10
        pos_hint: {"center_x": .90, "center_y": .44}

    MDTextButton:
        text: "¿Has Olvidado Tu Contraseña?"
        font_size: "9sp"
        font_name: "fonts/Poppins-Regular.ttf"
        haling: "center"
        color: 120/255, 120/255, 120/255, 1
        pos_hint: {"center_x":.715 ,"center_y": .370}

    MDFlatButton:
        text: "Ingresar"
        size_hint: .79, .08
        font_name: "fonts/Poppins-Medium.ttf"
        pos_hint: {"center_x": .50, "center_y":.25} 
        on_release: 
            root.connect()
            input_correo.text= ""
            input_contraseña.text= ""
        canvas.before:
            Color:
                rgb: 255/255, 162/255, 3/255
            RoundedRectangle:
                size: self.size
                pos: self.pos
                radius: [6]
    MDIconButton:
        icon: "home-circle-outline"
        icon_size: "44sp"
        pos_hint: {"center_x": .50, "center_y":.10}
		icon_color: 41/255, 135/255, 168/255
        on_release: 
            root.home()
            root.manager.transition.direction = 'up'
            input_correo.text= ""
            input_contraseña.text= ""
    
<Menu>:
    name:'prin'
    MDScreen:
        id:side
    
<Registro>:
    MDScreen:
        name: "reg"
    MDFloatLayout:
        id: reg
        md_bg_color: 1,1,1,1

    MDIconButton:
        icon: "chevron-down"
        user_font_size: "35sp"
        pos_hint: {"center_y": .95}
        on_release: 
            root.manager.current ='login'
            root.manager.transition.direction = 'down'
            reg_correo.text= ""
            reg_contraseña.text= ""
            val_contraseña.text= ""
    Image:
        source: "assets/register.png"
        size_hint: .40, .40
        pos_hint: {"center_x": .22, "center_y": .8}

    MDLabel:
        text: "Atras"
        font_size: "18sp"
        font_name: "fonts/Poppins-Regular.ttf"
        pos_hint: {"center_x": .615, "center_y": .949}
    
    MDLabel:
        text: "Registro"
        font_size: "20sp"
        font_name: "fonts/Poppins-Regular.ttf"
        color: 255/255, 162/255, 3/255
        pos_hint: {"center_x": .917, "center_y": .841}

    MDLabel:
        text: "Novedades Alviarez"
        font_size: "15sp"
        font_name: "fonts/Poppins-Medium.ttf"
        color: "black"
        pos_hint: {"center_x": .917, "center_y": .810}
    
    MDTextField:
        id:reg_correo
        hint_text: "Ingresa Tu Correo Electronico"
        helper_text: ""
        font_name: "fonts/Poppins-Regular.ttf"
        line_color_normal: 255/255, 162/255, 3/255
        hint_text_color_focus: 255/255, 162/255, 3/255
        line_color_focus: "black"
        helper_text_mode: "persistent"
        pos_hint: {"center_x": .5, "center_y": .52}

        size_hint_x: .85
        line_color_focus: 0,0,0,1

    Image:
        source: "assets/usuario.png"
        size_hint: .10, .10
        pos_hint: {"center_x": .90, "center_y": .54}
    
    MDTextField:
        id:reg_contraseña
        hint_text: "Ingresa tu contraseña"
        helper_text: ""
        font_name: "fonts/Poppins-Regular.ttf"
        line_color_normal: 255/255, 162/255, 3/255
        hint_text_color_focus: 255/255, 162/255, 3/255
        line_color_focus: "black"
        helper_text_mode: "persistent"
        pos_hint: {"center_x": .5, "center_y": .42}

        size_hint_x: .85
        line_color_focus: 0,0,0,1
        password: True
    Image:
        source: "assets/llave.png"
        size_hint: .10, .10
        pos_hint: {"center_x": .90, "center_y": .44}
    MDTextField:
        id:val_contraseña
        hint_text: "Ingresa nuevamente tu contraseña"
        helper_text: ""
        font_name: "fonts/Poppins-Regular.ttf"
        line_color_normal: 255/255, 162/255, 3/255
        hint_text_color_focus: 255/255, 162/255, 3/255
        line_color_focus: "black"
        helper_text_mode: "persistent"
        pos_hint: {"center_x": .5, "center_y": .32}

        size_hint_x: .85
        line_color_focus: 0,0,0,1
        password: True
    Image:
        source: "assets/llave.png"
        size_hint: .10, .10
        pos_hint: {"center_x": .90, "center_y": .34}
    
    MDFlatButton:
        text: "Registrarse"
        size_hint: .79, .08
        font_name: "fonts/Poppins-Medium.ttf"
        pos_hint: {"center_x": .50, "center_y":.12} 
        on_release: 
            root.registrar()
            reg_correo.text= ""
            reg_contraseña.text= ""
            val_contraseña.text= ""
        canvas.before:
            Color:
                rgb: 255/255, 162/255, 3/255
            RoundedRectangle:
                size: self.size
                pos: self.pos
                radius: [6]

<HomeScreen>:
    name: 'home'
    
	MDScrollView:
        
		MDBoxLayout:
            
			orientation: 'vertical'
			size_hint_y: 1.6
			MDBoxLayout:
				padding:10
				spacing:2
				size_hint_y:0.3
				md_bg_color: 255/255, 162/255, 3/255
				MDTextField:
                    id: buscador
					size_hint_x:0.4
					mode:"fill"
					hint_text:"Buscar Productos"
					background_color: "white"
                    on_text_validate:
                        root.buscar()
                        root.manager.current ='grid'
                        

				MDIconButton:
					icon:"account-key"
					theme_icon_color: "Custom"
					icon_color:"white"
                    on_release:
                        root.manager.current ='login'
                        root.manager.transition.direction = 'down'
				MDIconButton:
					icon:"chat"
					theme_icon_color: "Custom"
					icon_color:"white"

				MDIconButton:
                    id: abrirsidebar
					icon:"bell-cog"
					theme_icon_color: "Custom"
					icon_color:"white"
                    on_release:
                        nav_drawer.set_state("open")		

			# carrusel de imagenes
			MDScrollView:
				# desactivar scroll en eje vertical
				do_scroll_y:False
				MDBoxLayout:
					# ancho del box
					size_hint_x:4
					FitImage:
						source:"image2.jpg"
					FitImage:
						source:"image3.jpg"
					FitImage:
						source:"image1.png"
			# iconos
			MDBoxLayout:
				padding:10
				spacing:10
				size_hint_y:0.3

				# Creacion de 2 MDCards, Balance y QR
				# codigo QR
				

				# Balance 
				MDCard:
					
					MDBoxLayout:
						padding:10
						MDIcon:
							icon:"wallet-outline"
							color:"blue"
							halign:"right"
							pos_hint: {'center_y': 0.5}
						MDLabel:
							# CREATE TEXT BALANCE
							text:"$ 100"
							halign:"center"
							valign:"middle"
				

			MDBoxLayout:
				size_hint_y:0.3
				padding:10
				spacing:2
				MDBoxLayout:
					spacing:12
					orientation:"vertical"

					# 5 iconos de categorias
					MDIconButton:
						icon:"store-outline"
						color:"#D1553E"
						font_size: 30
						pos_hint:{"center_x":0.5}

					MDLabel:
						text:"Menu Principal"
						color:"grey"
						font_size:11
						halign:"center"
				MDBoxLayout:
					spacing:12
					orientation:"vertical"
                    
		
					MDIconButton:
						icon:"pencil-box-outline"
						color:"#15A190"
						font_size: 30
						pos_hint:{"center_x":0.5}
                        on_release:
                            root.manager.current ='grid'
                            root.llenarpapeleria()

					MDLabel:
						text:"Papeleria"
						color:"grey"
						font_size:13
						halign:"center"

				MDBoxLayout:
					spacing:12
					orientation:"vertical"

				
					MDIconButton:
						icon:"hammer-wrench"
						color:"#C9051C"
						font_size: 30
						pos_hint:{"center_x":0.5}
                        on_release:
                            root.manager.current ='grid'
                            root.llenarferre()

					MDLabel:
						text:"Ferreteria"
						color:"grey"
						font_size:13
						halign:"center"

				MDBoxLayout:
					spacing:12
					orientation:"vertical"

					
					MDIconButton:
						icon:"teddy-bear"
						color:"#C9051C"
						font_size: 30
						pos_hint:{"center_x":0.5}
                        on_release:
                            root.manager.current ='grid'
                            root.llenarjuguetes()

					MDLabel:
						text:"Jugueteria"
						color:"grey"
						font_size:13
						halign:"center"

				MDBoxLayout:
					spacing:12
					orientation:"vertical"

				
					MDIconButton:
						icon:"earbuds"
						color:"#449ED0"
						font_size: 30
						pos_hint:{"center_x":0.5}
                        on_release:
                            root.manager.current ='grid'
                            root.llenarelect()
					MDLabel:
						text:"Electronica"
						color:"grey"
						font_size:13
						halign:"center"

				
				
			# IMAGENES PROMOCIONALES

			MDBoxLayout:
				size_hint_y:0.9
				padding:10
				spacing:10
				MDBoxLayout:
					radius:20
					md_bg_color: 255/255, 162/255, 3/255
					size_hint_x:1.6
					padding:20

					
					FitImage:
						source:"image4.jpg"
				MDBoxLayout:
					radius:20
					md_bg_color: 255/255, 162/255, 3/255
					
					padding:20

					
					FitImage:
						source:"image5.jpg"

			# VENTA RAPIDA TEXTO
			MDBoxLayout:
				size_hint_y:0.3
				MDIcon:
					icon:"flash"
					font_size:40
					color: 255/255, 162/255, 3/255
					pos_hint:{"center_y":0.5}

				MDLabel:
					text:"Ventas Rapidas"
					font_size:20
					color: 255/255, 162/255, 3/255
					bold:True
					font_style:"H6"

				MDBoxLayout:
					padding:10
					MDLabel:
						text:"Papeleria"
						color:"grey"
						halign:"right"

			# SCROLL HORIZONTAL
			# PRODUCTOS Y PRECIO
			MDScrollView:

				do_scroll_y:False
				do_scroll_x:True
                MDBoxLayout:
                    id: products
                    orientation: "horizontal"
                    spacing: dp(5)
                    padding: dp(5)
                    adaptive_size: True
                    size_hint_y:1
                    
                    
                    

			# ESPACIO INFERIOR
			MDBoxLayout:
				orientation:"vertical"
				size_hint_y:0.9

			# BARRA INFERIOR
	MDBottomAppBar:
		md_bg_color: 255/255, 162/255, 3/255
    MDNavigationLayout:
        
        MDNavigationDrawer:
            size_hint_x: 0.9
            type: "modal"
            id: nav_drawer
            radius: (0, 16, 16, 0)

            MDNavigationDrawerMenu:

                MDNavigationDrawerHeader:
                    title: "Menu Lateral"
                    title_color: "#4a4939"
                    text: "Opciones-Cliente"
                    spacing: "4dp"
                    padding: "12dp", 0, 0, "56dp"

                MDNavigationDrawerLabel:
                    text: "Carrito de Compras"

                DrawerClickableItem:
                    icon: "gmail"
                    right_text: "+99"
                    text_right_color: "#4a4939"
                    text: "Ver Carrito"

                DrawerClickableItem:
                    icon: "send"
                    text: "Ver Pedidos"

                MDNavigationDrawerDivider:

                MDNavigationDrawerLabel:
                    text: "Mi Perfil"

                DrawerLabelItem:
                    icon: "information-outline"
                    text: "Modificar Perfil"

                DrawerLabelItem:
                    icon: "information-outline"
                    text: "Vaciar Carrito de Compras"
	

<VentanaPop>:
    name: 'popup'
    orientation: "vertical"
    
    height: "900dp"
    padding: dp(12)
    spacing: dp(6)
    RelativeLayout:
        id:pop_prod
        BoxLayout:
            orientation: 'vertical'
            BoxLayout:
                size_hint_y: .7
                canvas.before:
                    Color:
                        rgba: [1,1,1,1]
                    Rectangle:
                        pos: self.pos
                        size: self.size
                        source: root.source
            BoxLayout:
                size_hint_y: .5
        BoxLayout:
            orientation: 'vertical'
            AnchorLayout:
                size_hint_y: .6
                padding: dp(12)
                anchor_x: 'left'
                anchor_y: 'top'
                
                        
            MDBoxLayout:
                size_hint_y: .4
                padding: dp(12)
                spacing: dp(8)
                orientation: 'vertical'
                md_bg_color: 255/255, 162/255, 3/255
                canvas.before:
                    
                    Color:
                            
                        rgba: [255, 162, 3, .1]
                    RoundedRectangle:
                        pos: [self.pos[0], self.pos[1]+dp(2)]
                        size: self.size
                        radius: [self.height/8, self.height/8, 0, 0]
                        
                    RoundedRectangle:
                        pos: self.pos
                        size: self.size
                        radius: [self.height/8, self.height/8, 0, 0]
                BoxLayout:
                    size_hint_y: None
                    height: dp(32)
                    Label:
                        text: root.nombre
                        font_name: "fonts/Poppins-Medium.ttf"
                        
                    AnchorLayout:
                        size_hint_x: None
                        width: self.height
                        padding: dp(2)
                        anchor_x: 'right'
                        MDIconButton:
                            icon: 'heart'
                BoxLayout:
                        
                    size_hint_y: None
                    height: dp(18)
                    Label:
                        text: root.tipo
                        
                    Widget:
                        size_hint_x: None
                        width: self.height
                    
                AnchorLayout:
                    anchor_y: 'top'
                    Label:
                        text: root.desc
                        font_name: "fonts/Poppins-Medium.ttf"
                        size: self.texture_size
                        size_hint_y: None
                        valign: 'top'
                        text_size: [self.width, None]
                    
                        
                BoxLayout:
                    size_hint_y: None
                    height: dp(42)
                    Button:
                        text: 'Añadir al Carrito | $%s'%str(root.precio)
                        font_name: "fonts/Poppins-Medium.ttf"
                        radius: [dp(12)]
   
        
        

<GridProductos>:
    name: 'grid'
	MDScrollView:
        do_scroll_y:False
		MDBoxLayout:
             
			orientation: 'vertical'
			adaptive_height:True
            
			MDBoxLayout:
				padding:10
				spacing:2
				adaptive_height:True
				md_bg_color: 255/255, 162/255, 3/255
				MDTextField:
                    id:buscador
					size_hint_x:0.4
					mode:"fill"
					hint_text:"Buscar Productos"
					background_color: "white"
                    on_text_validate:
                        root.manager.current ='grid'
                        root.buscar()
                        

				MDIconButton:
					icon:"account-key"
					theme_icon_color: "Custom"
					icon_color:"white"
                    on_release:
                        root.manager.current ='login'
                        root.manager.transition.direction = 'down'
				MDIconButton:
					icon:"chat"
					theme_icon_color: "Custom"
					icon_color:"white"

				MDIconButton:
					icon:"bell-cog"
					theme_icon_color: "Custom"
					icon_color:"white"		

			MDBoxLayout:
				size_hint_y:None
				padding:10
				spacing:2
				MDBoxLayout:
					spacing:12
					orientation:"vertical"
                    
					# 4 iconos de categorias
					MDIconButton:
						icon:"store-outline"
						color:"#D1553E"
						font_size: 30
						pos_hint:{"center_x":0.5}
                        on_release:
                            root.manager.current ='home'
                            root.manager.transition.direction = 'left'

					MDLabel:
						text:"Menu Principal"
						color:"grey"
						font_size:11
						halign:"center"
				MDBoxLayout:
					spacing:12
					orientation:"vertical"

		
					MDIconButton:
						icon:"pencil-box-outline"
						color:"#15A190"
						
						font_size: 30
						pos_hint:{"center_x":0.5}
                        on_release:
                            root.manager.current ='grid'
                            root.llenarpapeleria()
                            root.manager.transition.direction = 'right'

					MDLabel:
						text:"Papeleria"
						color:"grey"
						font_size:13
						halign:"center"

				MDBoxLayout:
					spacing:12
					orientation:"vertical"

				
					MDIconButton:
						icon:"hammer-wrench"
						color:"#C9051C"
						
						font_size: 30
						pos_hint:{"center_x":0.5}
                        on_release:
                            root.manager.current ='grid'
                            root.llenarferre()
                            root.manager.transition.direction = 'right'

					MDLabel:
						text:"Ferreteria"
						color:"grey"
						font_size:13
						halign:"center"

				MDBoxLayout:
					spacing:12
					orientation:"vertical"

					
					MDIconButton:
						icon:"teddy-bear"
						color:"#C9051C"
						
						font_size: 30
						pos_hint:{"center_x":0.5}
                        on_release:
                            root.manager.current ='grid'
                            root.llenarjuguetes()
                            root.manager.transition.direction = 'right'

					MDLabel:
						text:"Jugueteria"
						color:"grey"
						font_size:13
						halign:"center"

				MDBoxLayout:
					spacing:12
					orientation:"vertical"

				
					MDIconButton:
						icon:"earbuds"
						color:"#449ED0"
					
						font_size: 30
						pos_hint:{"center_x":0.5}
                        on_release:
                            root.manager.current ='grid'
                            root.llenarelect()
                            root.manager.transition.direction = 'right'

					MDLabel:
						text:"Electronica"
						color:"grey"
						font_size:13
						halign:"center"
                        
                        
            MDBoxLayout:
                size_hint_y:None
                height:dp(800)
                MDScrollView:
                    do_scroll_y:True
                    adaptive_size:True
                    MDGridLayout:
                        id:gridprincipal
                        cols:2
                        padding:dp(20)
                        spacing:dp(20)
                        size_hint_y: None
<Administracion>:
    MDScreen:
        name:'admin'
        md_bg_color:255/255, 162/255, 3/255
        MDBoxLayout:
            orientation:'vertical'
            MDBoxLayout:
                size_hint_y:.25
                padding:dp(25)
                MDBoxLayout:
                    orientation:"vertical"
                    MDLabel:
                        text:"Novedades Alviarez-Menu de Administracion"
                        font_size:"22dp"
                        color: 1,1,1,1
                        bold:True
                    MDBoxLayout:
                        adaptive_size:True
                        spacing:dp(10)
                        MDLabel:
                            text:"Volver"
                            color: 1,1,1,1
                            text_size:None,None
                            adaptive_width:True
                        MDIconButton:
                            icon:'chevron-left'
                            
                            on_release:
                                root.home()

                MDIconButton:
                    icon:"assets/ics/notification.png"
            MDGridLayout:
                size_hint_y:.75
                cols:2
                padding:[dp(15),dp(15),dp(15),dp(35)]
                spacing:dp(15)
                MDCard:
                    orientation:"vertical"
                    padding:dp(15)
                    spacing:dp(15)
                    radius:dp(25)
                    ripple_behavior: True
                    md_bg_color:13/255, 8/255, 0/255,1
                    on_release: 
                        #root.llenardatatable()
                        root.manager.current ='agre_obj'
                        root.manager.transition.direction = 'up'
                                
                    Image:
                        source:"assets/ics/agregar.png"
                    MDBoxLayout:
                        orientation:'vertical'
                        MDLabel:
                            halign:"center"
                            text:"Agregar"
                            color: 1,1,1,1
                            font_size:"13dp"
                            bold:True
                        MDLabel:
                            halign:"center"
                            font_size:"13dp"
                            color: 1,1,1,1
                            text:"Productos"
                            bold:True

                MDCard:
                    orientation:"vertical"
                    padding:dp(15)
                    spacing:dp(15)
                    radius:dp(25)
                    ripple_behavior: True
                    md_bg_color:13/255, 8/255, 0/255,1
                    on_release: 
                        root.llenardatatable()
                        root.manager.current ='elim_obj'
                        root.manager.transition.direction = 'left'
                    Image:
                        source:"assets/ics/editar.png"
                    MDBoxLayout:
                        orientation:'vertical'
                        MDLabel:
                            halign:"center"
                            text:"Actualizar/Quitar"
                            font_size:"13dp"
                            color: 1,1,1,1
                            bold:True
                        MDLabel:
                            halign:"center"
                            font_size:"13dp"
                            text:"Productos"
                            color: 1,1,1,1
                            bold:True
                    

                MDCard:
                    orientation:"vertical"
                    padding:dp(15)
                    spacing:dp(15)
                    radius:dp(25)
                    ripple_behavior: True
                    md_bg_color:41/255, 25/255, 0/255
                    
                    Image:
                        source:"assets/ics/promo.png"
                    MDBoxLayout:
                        orientation:'vertical'
                        MDLabel:
                            halign:"center"
                            text:"Gestion"
                            font_size:"13dp"
                            color: 1,1,1,1
                            bold:True
                        MDLabel:
                            halign:"center"
                            font_size:"13dp"
                            text:"Promociones"
                            color: 1,1,1,1
                            bold:True
                            

                MDCard:
                    orientation:"vertical"
                    padding:dp(15)
                    spacing:dp(15)
                    radius:dp(25)
                    ripple_behavior: True
                    md_bg_color:41/255, 25/255, 0/255
                    Image:
                        source:"assets/ics/usuario.png"
                    MDBoxLayout:
                        orientation:'vertical'
                        MDLabel:
                            halign:"center"
                            text:"Agregar/Quitar"
                            color: 1,1,1,1
                            font_size:"13dp"
                            bold:True
                        MDLabel:
                            halign:"center"
                            font_size:"13dp"
                            text:"Gestor"
                            color: 1,1,1,1
                            bold:True
                        

                MDCard:
                    orientation:"vertical"
                    padding:dp(15)
                    spacing:dp(15)
                    radius:dp(25)
                    ripple_behavior: True
                    md_bg_color:82/255, 50/255, 1/255
                    Image:
                        source:"assets/ics/todo.png"
                    MDBoxLayout:
                        orientation:'vertical'
                        MDLabel:
                            halign:"center"
                            text:"Ver"
                            color: 1,1,1,1
                            font_size:"13dp"
                            bold:True
                        MDLabel:
                            halign:"center"
                            font_size:"13dp"
                            text:"Bitacora"
                            color: 1,1,1,1
                            bold:True

                MDCard:
                    orientation:"vertical"
                    padding:dp(15)
                    spacing:dp(15)
                    radius:dp(25)
                    ripple_behavior: True
                    md_bg_color:82/255, 50/255, 1/255
                    Image:
                        source:"assets/ics/setting.png"
                    MDBoxLayout:
                        orientation:'vertical'
                        MDLabel:
                            halign:"center"
                            text:"Respaldar"
                            font_size:"13dp"
                            color: 1,1,1,1
                            bold:True
                        MDLabel:
                            halign:"center"
                            font_size:"13dp"
                            text:"Base de Datos"
                            color: 1,1,1,1
                            bold:True
            
<AgregarObj>:
    MDScreen:
        name:'agre_obj'
        md_bg_color:255/255, 162/255, 3/255
    
    MDFloatLayout:
        id: reg
        md_bg_color: 222/255, 111/255, 0/255
    MDIconButton:
        icon: "chevron-down"
        user_font_size: "35sp"
        pos_hint: {"center_y": .95}
        on_release: 
            root.manager.current ='admin'
            root.manager.transition.direction = 'down'
            agre_prod.text= ""
            agre_precio.text= ""
            agre_tipo.text= ""
            agre_desc.text= ""
    Image:
        id: imagen_preview
        source: ''
        pos_hint: {"center_y": .67,"center_x":.5}
        size_hint:(0.4,0.25)
        background_color:255/255, 162/255, 3/255

    MDRaisedButton:
        text: 'Seleccionar imagen'
        font_size: "14sp"
        on_release: root.show_file_manager()
        pos_hint: {"center_y": .84,"center_x":0.5}
        size_hint_x: .45
        size_hint_y: .026
        theme_text_color: "Custom"
        text_color: "white"
        line_color: "orange"
        md_bg_color:"orange"
    MDLabel:
        text: "Atras"
        font_size: "18sp"
        font_name: "fonts/Poppins-Regular.ttf"
        color: 1,1,1,1
        pos_hint: {"center_x": .615, "center_y": .949}
    
    MDLabel:
        text: "Agregar Productos"
        font_size: "25sp"
        font_name: "fonts/Poppins-Regular.ttf"
        color: 1,1,1,1
        pos_hint: {"center_x": .525, "center_y": .91}
    
    MDTextField:
        id:agre_prod
        hint_text: "Ingresa el Nombre del Producto"
        helper_text: ""
        font_name: "fonts/Poppins-Regular.ttf"
        line_color_normal: 0,0,0,1
        hint_text_color_focus: 82/255, 50/255, 1/255
        line_color_focus: 82/255, 50/255, 1/255
        helper_text_mode: "persistent"
        pos_hint: {"center_x": .5, "center_y": .50}

        size_hint_x: .85
        

    #Image:
    #    source: "assets/usuario.png"
    #    size_hint: .10, .10
    #    pos_hint: {"center_x": .90, "center_y": .54}
    
    MDTextField:
        id:agre_precio
        hint_text: "Ingresa el Precio del Producto"
        helper_text: ""
        font_name: "fonts/Poppins-Regular.ttf"
        line_color_normal: 0,0,0,1
        hint_text_color_focus: 82/255, 50/255, 1/255
        line_color_focus: 82/255, 50/255, 1/255
        helper_text_mode: "persistent"
        pos_hint: {"center_x": .5, "center_y": .40}

        size_hint_x: .85
    
    
    MDTextField:
        id:agre_tipo
        hint_text: "Selecciona el tipo de Producto"
        helper_text: ""
        font_name: "fonts/Poppins-Regular.ttf"
        line_color_normal: 0,0,0,1
        hint_text_color_focus: 82/255, 50/255, 1/255
        line_color_focus: 82/255, 50/255, 1/255
        helper_text_mode: "persistent"
        pos_hint: {"center_x": .5, "center_y": .30}
        values:["papeleria","ferreteria","jugueteria","electronica"]
        size_hint_x: .85
        
        
    #Image:
    #    source: "assets/llave.png"
    #    size_hint: .10, .10
    #    pos_hint: {"center_x": .90, "center_y": .34}
    
    MDTextField:
        id:agre_desc
        hint_text: "Ingresa una Descripcion"
        helper_text: ""
        font_name: "fonts/Poppins-Regular.ttf"
        line_color_normal: 0,0,0,1
        hint_text_color_focus: 82/255, 50/255, 1/255
        line_color_focus: 82/255, 50/255, 1/255
        helper_text_mode: "persistent"
        pos_hint: {"center_x": .5, "center_y": .20}

        size_hint_x: .85
        

    MDFlatButton:
        text: "Agregar Producto"
        size_hint: .79, .08
        font_name: "fonts/Poppins-Medium.ttf"
        pos_hint: {"center_x": .50, "center_y":.12} 
        on_release: 
            root.ingresar_producto()
            agre_prod.text= ""
            agre_precio.text= ""
            agre_tipo.text= ""
            agre_desc.text= ""
        canvas.before:
            Color:
                rgb: 255/255, 162/255, 3/255
            RoundedRectangle:
                size: self.size
                pos: self.pos
                radius: [6]
        
<EliminarObj>:
    MDScreen:
        name:'elim_obj'
        md_bg_color:255/255, 162/255, 3/255
    MDBoxLayout:
        id:datatable
        orientation:'vertical'
    MDBoxLayout:
        id:boton
        pos_hint:{"center_x": 0.5,"center_y":0.362}
        adaptive_size:True
        spacing:dp(12)
        padding:dp(3)
    MDBoxLayout:
        pos_hint:{"center_x": 0.2,"center_y":0.4}
        adaptive_size:True
        spacing:dp(1)
        padding:dp(2)
        MDIconButton:
            icon:'exit-to-app'
            on_release:
                root.manager.current = 'admin'
                root.manager.transition.direction = 'right'

<VentanaActualizar>:
    name: 'popupact'
    orientation: "vertical"
    
    height: "900dp"
    padding: dp(12)
    spacing: dp(6)
    
    RelativeLayout:
        id:pop_prod
        BoxLayout:
            orientation: 'vertical'
            Image:
                id: imagen_preview
                source: root.source
                pos_hint: {"center_y": .67,"center_x":.5}
                size_hint:(0.4,0.25)
                background_color:255/255, 162/255, 3/255

            MDRaisedButton:
                text: 'Seleccionar imagen'
                font_size: "14sp"
                on_release: root.show_file_manager()
                pos_hint: {"center_y": .84,"center_x":0.5}
                size_hint_x: .45
                size_hint_y: .026
                theme_text_color: "Custom"
                text_color: "white"
                line_color: "orange"
                md_bg_color:"orange"
            BoxLayout:
                size_hint_y: .5
        BoxLayout:
            orientation: 'vertical'
            AnchorLayout:
                size_hint_y: .6
                padding: dp(12)
                anchor_x: 'left'
                anchor_y: 'top'
                        
            MDBoxLayout:
                size_hint_y: .99
                padding: dp(12)
                spacing: dp(8)
                orientation: 'vertical'
                md_bg_color: 255/255, 162/255, 3/255
                canvas.before:
                  
                    Color:
                            
                        rgba: [255, 162, 3, .1]
                    RoundedRectangle:
                        pos: [self.pos[0], self.pos[1]+dp(2)]
                        size: self.size
                        radius: [self.height/8, self.height/8, 0, 0]
                MDBoxLayout:
                    size_hint_y: None
                    height: dp(32)
                    orientation:"vertical"
                    MDTextField:
                        id: act_prod
                        text: root.nombre
                        helper_text:root.nombre
                        bold:True
                        required:True
                        color: 1,1,1,1
                        font_name: "fonts/Poppins-Medium.ttf"
                    MDTextField:
                        id: act_tipo
                        text: root.tipo
                        required:True
                        color: 1,1,1,1
                        font_name: "fonts/Poppins-Medium.ttf"
                    MDTextField:
                        id: act_precio
                        text: str(root.precio)
                        required:True
                        color: 1,1,1,1
                        font_name: "fonts/Poppins-Medium.ttf"
                    MDTextField:
                        id: act_desc
                        text: root.desc
                        required:True
                        color: 1,1,1,1
                        font_name: "fonts/Poppins-Medium.ttf"    
                
                BoxLayout:
                    size_hint_y: None
                    height: dp(42)
                    Button:
                        text: 'Actualizar Producto'
                        font_name: "fonts/Poppins-Medium.ttf"
                        radius: [dp(12)]
                        on_release:
                            root.actualizar_producto()                    

<Gestor>:
    MDScreen:
        name:'gestor'
        md_bg_color:255/255, 162/255, 3/255
        MDBoxLayout:
            orientation:'vertical'
            MDBoxLayout:
                size_hint_y:.25
                padding:dp(25)
                MDBoxLayout:
                    orientation:"vertical"
                    MDLabel:
                        text:"Novedades Alviarez-Menu de Gestión"
                        font_size:"22dp"
                        color: 1,1,1,1
                        bold:True
                    MDBoxLayout:
                        adaptive_size:True
                        spacing:dp(10)
                        MDLabel:
                            text:"Volver"
                            color: 1,1,1,1
                            text_size:None,None
                            adaptive_width:True
                        MDIconButton:
                            icon:'chevron-left'
                            
                            on_release:
                                root.manager.current = "login"

                MDIconButton:
                    icon:"assets/ics/notification.png"
            MDGridLayout:
                size_hint_y:.75
                cols:1
                padding:[dp(15),dp(15),dp(15),dp(35)]
                spacing:dp(15)
                MDCard:
                    orientation:"vertical"
                    padding:dp(15)
                    spacing:dp(15)
                    radius:dp(25)
                    ripple_behavior: True
                    md_bg_color:13/255, 8/255, 0/255,1
                    on_release: 
                        root.llenardatatable()
                        root.manager.current ='elim_obj'
                        root.manager.transition.direction = 'left'
                                
                    Image:
                        source:"assets/ics/agregar.png"
                    MDBoxLayout:
                        orientation:'vertical'
                        MDLabel:
                            halign:"center"
                            text:"Gestionar"
                            color: 1,1,1,1
                            font_size:"13dp"
                            bold:True
                        MDLabel:
                            halign:"center"
                            font_size:"13dp"
                            color: 1,1,1,1
                            text:"Ordenes de Compra"
                            bold:True

                MDCard:
                    orientation:"vertical"
                    padding:dp(15)
                    spacing:dp(15)
                    radius:dp(25)
                    ripple_behavior: True
                    md_bg_color:13/255, 8/255, 0/255,1
                    on_release: 
                        #root.llenardatatable()
                        #root.manager.current ='elim_obj'
                        #root.manager.transition.direction = 'left'
                    Image:
                        source:"assets/ics/editar.png"
                    MDBoxLayout:
                        orientation:'vertical'
                        MDLabel:
                            halign:"center"
                            text:"Editar"
                            font_size:"13dp"
                            color: 1,1,1,1
                            bold:True
                        MDLabel:
                            halign:"center"
                            font_size:"13dp"
                            text:"Perfil"
                            color: 1,1,1,1
                            bold:True
                    

                MDCard:
                    orientation:"vertical"
                    padding:dp(15)
                    spacing:dp(15)
                    radius:dp(25)
                    ripple_behavior: True
                    md_bg_color:41/255, 25/255, 0/255
                    on_release:
                        root.home()
                    Image:
                        source:"assets/ics/promo.png"
                    MDBoxLayout:
                        orientation:'vertical'
                        MDLabel:
                            halign:"center"
                            text:"Cerrar"
                            font_size:"13dp"
                            color: 1,1,1,1
                            bold:True
                        MDLabel:
                            halign:"center"
                            font_size:"13dp"
                            text:"Sesion"
                            color: 1,1,1,1
                            bold:True
                            

                                 